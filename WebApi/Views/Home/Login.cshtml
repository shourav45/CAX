
@{
    Layout = null;
}

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootsrtap Free Admin Template - SIMINTA | Admin Dashboad Template</title>
    <!-- Core CSS - Include with every page -->
    <link href="~/assets/plugins/bootstrap/bootstrap.css" rel="stylesheet" />
    <link href="~/assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="~/assets/css/style.css" rel="stylesheet" />
    <link href="~/assets/css/main-style.css" rel="stylesheet" />
    <link href="~/assets/css/bootstrap-select.min.css" rel="stylesheet" />

    <link href="~/Scripts/sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet" />

    <script src="~/assets/plugins/jquery-1.10.2.js"></script>
    <script src="~/assets/plugins/bootstrap/bootstrap.min.js"></script>
    <script src="~/Scripts/sweetalert/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>

    <script src="~/Scripts/angular.min.js"></script>

    <script src="~/assets/scripts/bootstrap-select.min.js"></script>

</head>

<body class="body-Login-back" style="background-color: darkolivegreen" ng-controller="Loginclt">
    <div class="container" >
        <div class="row">
            <div class="col-md-4 col-md-offset-4 text-center logo-margin ">
                <img src="~/assets/img/logo.png" style="width:100%;height:100%" alt="" />
            </div>
            <div class="col-md-4 col-md-offset-4">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Please Sign In</h3>
                    </div>
                    <div class="panel-body">
                        <form role="form" name="loginform" ng-submit="submitForm()"  method="post" novalidate>
                                <div class="form-group" ng-class="{ 'has-error' : submitted && loginform.UserName.$invalid}">
                                    <div class="row-fluid">
                                        <select class="selectpicker" name="UserName" ng-model="UserName"  data-show-subtext="true" data-live-search="true" style="width: 149%;" required>
                                            <option value=""  data-subtext="">Select User</option>
                                            <option ng-repeat="user in userList"  value="{{user.Name}},{{user.Mobile1}}" data-subtext="{{user.Mobile1}}">{{user.Name}}</option>
                                        </select>
                                        <span ng-show="submitted &&  loginform.UserName.$error.required" class="text-danger">User is Required</span>
                                    </div>
                                </div>
                                <div class="form-group" ng-class="{ 'has-error' : submitted && loginform.password.$invalid}">
                                    <input class="form-control" ng-model="Pass" placeholder="Password" name="password" type="password" value="" required>
                                    <span ng-show="submitted &&  loginform.password.$error.required" class="text-danger">Password is Required</span>
                                </div>
                                <div class="checkbox">
                                    <label>
                                        <input name="remember" type="checkbox" value="Remember Me">Remember Me
                                    </label>
                                </div>
                                <!-- Change this to a button or input when using this as a form -->
                                <input type="submit" class="btn btn-lg btn-success btn-block" ng-click="submitted=true" value="Login"/>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
  </html>

<script>
    CNApp.controller('Loginclt', function ($scope, $http) {
    init();
    function init() {
        $scope.userList = [];
        LoaduserList();
       
    }

    function LoaduserList() {
        $http.get("/api/UserInfoes")
               .then(function successCallback(response) {
                   $scope.userList = response.data;
               }, function errorCallback(response) {
                   //error msg
               });
        }

    $scope.submitForm = function () {
        if ($scope.loginform.$invalid)
            return;
        toastr.options.positionClass = 'toast-bottom-right';
        console.log($scope.UserName);
        toastr.success($scope.UserName);
    }
		 });

</script>

